<!--
  #%L
  Signs at work
  %%
  Copyright (C) 2016 Orange
  %%
  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as
  published by the Free Software Foundation, either version 2 of the
  License, or (at your option) any later version.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.

  You should have received a copy of the GNU General Public
  License along with this program.  If not, see
  <http://www.gnu.org/licenses/gpl-2.0.html>.
  #L%
  -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
  <script src='https://www.google.com/recaptcha/api.js'></script>
  <th:block th:include="fragments/header-head :: head"></th:block>
</head>

<header role="banner" th:replace="fragments/header-cgu :: header">&nbsp;</header>

<body class="container-fluid">
<div th:replace="fragments/modal-cgu :: div"/>
<div th:replace="fragments/modal-cgu-lsf :: div"/>

<div class="row" id="cguAccepted">
  <div class="title_middle col-md-12 col-xs-12 middle-col ">
    <h2 class="form-signin-heading" th:text="#{cgu_invite}"></h2>
    <div>
      <aside class="sidebar">
        <ul class="nav nav-list primary left-menu">
          <li class="aside_bckg_li">
            <a data-target="#read_condition_of_use" data-toggle="modal" href="#">
              <h2 class="container_CGU" th:text="#{read.condition_of_use}"/>
              <div>
                <div class="pull-right chevron_right"></div>
              </div>
            </a>
          </li>
          <li class="aside_bckg_li">
            <a data-target="#see_condition_of_use" data-toggle="modal" href="#">
              <h2 class="container_CGU" th:text="#{see.condition_of_use}"/>
              <div>
                <div class="pull-right chevron_right"></div>
              </div>
            </a>
          </li>
        </ul>
        <div class="footer">
          <button class="btn btn-secondary" th:text="#{no_i_disagree}" th:onclick="'javascript:onRefused()'"></button>
          <button class="btn btn-default" th:onclick="'javascript:onAccepted()'" th:text="#{yes_i_agree}"></button>
        </div>
      </aside>
    </div>
  </div>
</div>

<div id="accountRequest" class="hidden">

  <div class="col-xs-12 create-user">
    <span class="form-signin-heading text-center" th:text="#{ask_to_create_user_title}"></span>

    <div class="form-group">
      <div class="errorRegexFirstName hidden" th:text="#{errorName}"/>
      <input  id="firstName" type="text" th:placeholder="#{placeholder_first_name}" spellcheck="false" class="form-control" name="firstName" th:autofocus="true" />
    </div>
    <div class="form-group">
      <div class="errorRegexLastName hidden" th:text="#{errorName}"/>
      <input id="lastName" type="text" th:placeholder="#{placeholder_last_name}"  spellcheck="false" class="form-control" name="lastName" />
    </div>
    <div class="form-group">
      <div class="errorRegexEmail hidden" th:text="#{errorEmail}"/>
      <input id="mail" type="email" th:placeholder="#{placeholder_email}" class="form-control" name="email" />
    </div>
    <div class="form-group">
      <!-- to enable captcha uncomment the keys in application.properties -->
      <div class="g-recaptcha" th:attr="data-sitekey=${@captchaService.getReCaptchaSite()}" data-callback="onReCaptchaSuccess" data-expired-callback="onReCaptchaExpired"></div>
      <!--<span id="captchaError" class="alert alert-danger col-sm-4" style="display:none"></span>-->
    </div>
    <div class="text-center">
      <span id="errorCreateUser" style="visibility: hidden"></span>
      <button id="submit-create-user" type="submit" class="btn_signin btn btn-default" th:onclick="'javascript:sendMail()'" th:text="#{continue}"></button>
    </div>
  </div>
</div>

<div  id="validate_send_mail" class="modal" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <div class="pull-left">
          <div class="lock_white pull-left"></div>
          <h2 class="pull-right" th:text="#{validate_send_mail_title}"/>
        </div>
      </div>
      <div class="modal-body text-center">
        <h4 th:text="#{validate_send_mail_body}"></h4>
      </div>
    </div>
  </div>
</div>

<div  id="cgu_disagree" class="modal" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" th:onclick="'javascript:returnToHome()'">&times;</button>
        <div class="pull-left">
          <div class="cgu_disagree_white pull-left"></div>
          <h2 class="pull-right" th:text="#{cgu_disagree_title}"/>
        </div>
      </div>
      <div class="modal-body">
        <h4 id="cgu_disagree_body" th:utext="#{cgu_disagree_body}"></h4>
      </div>
      <div class="modal-footer">
        <button th:text="#{OK}" class="btn btn-default" th:onclick="'javascript:returnToHome()'"></button>
      </div>
    </div>
  </div>
</div>

</body>
<script type="text/javascript" src="../public/js/create-user.js" th:src="@{/js/create-user.js}"></script>


</html>
